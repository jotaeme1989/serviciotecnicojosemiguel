<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ingreso de Equipo | Servicio Técnico Computacional José Miguel</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    </head>
<body>

    <header>
        <div class="container">
            <h1>Ingreso de Equipo | Servicio Técnico Computacional José Miguel</h1>
            <p><strong>Proceso Transparente y Seguro para la Reparación de tu Computador</strong></p>
        </div>
    </header>
    <main>
        <div class="container">
            <h2>Detalles del Equipo para Diagnóstico</h2>
            <p style="text-align: center; margin-bottom: 20px;">Por favor, ingrese la información con el cliente. Esto asegura la máxima transparencia.</p>
            <form id="ingresoEquipoForm" action="#" method="POST" enctype="multipart/form-data">
                <div id="pdf-content">
                    <fieldset> 
                        <legend>1. Datos del Cliente</legend>
                        <div class="form-group">
                            <label for="nombre">Nombre Completo:</label>
                            <input type="text" id="nombre" name="nombre_cliente" required>
                        </div>
                        <div class="form-group">
                            <label for="telefono">Teléfono:</label>
                            <input type="tel" id="telefono" name="telefono_cliente" placeholder="Ej: +56912345678" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Correo Electrónico:</label>
                            <input type="email" id="email" name="email_cliente" required>
                        </div>
                        <div class="form-group">
                            <label for="direccion">Dirección del Cliente:</label>
                            <input type="text" id="direccion" name="direccion_cliente" required>
                        </div>
                        <div class="form-group">
                            <label for="comuna">Comuna:</label>
                            <input type="text" id="comuna" name="comuna_cliente" required>
                        </div>
                    </fieldset>
                    <fieldset> 
                        <legend>2. Detalles del Equipo y Estado Actual</legend>
                        <div class="form-group">
                            <label for="tipo-equipo">Tipo de Equipo:</label>
                            <select id="tipo-equipo" name="tipo_equipo" required>
                                <option value="">Selecciona...</option>
                                <option value="laptop">Laptop</option>
                                <option value="desktop">Desktop</option>
                                <option value="all-in-one">All-in-one</option>
                                <option value="mac">Mac</option>
                                <option value="otro">Otro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="marca">Marca:</label>
                            <input type="text" id="marca" name="marca_equipo" required>
                        </div>
                        <div class="form-group">
                            <label for="modelo">Modelo:</label>
                            <input type="text" id="modelo" name="modelo_equipo" required>
                        </div>
                        <div class="form-group">
                            <label for="numero-serie">Número de Serie (SN):</label>
                            <input type="text" id="numero-serie" name="numero_serie" required>
                            <small>El SN se encuentra en una etiqueta debajo del equipo o en la parte trasera.</small>
                        </div>

                        <div class="form-group">
                            <label for="problema">Problema Reportado por el Cliente:</label>
                            <textarea id="problema" name="problema_reportado" rows="5" placeholder="Ej: No enciende, pantalla se congela, muy lento, no carga batería." required></textarea>
                        </div>

                        <div class="form-group">
                            <label>Estado de Funcionamiento (al momento de la entrega):</label><br>
                            <input type="checkbox" id="enciende" name="func_enciende"> <label for="enciende">El equipo enciende</label><br>
                            <input type="checkbox" id="da-video" name="func_da_video"> <label for="da-video">Da video en la pantalla</label><br>
                            <input type="checkbox" id="ruido-inusual" name="func_ruido_inusual"> <label for="ruido-inusual">Hace algún ruido inusual</label><br>
                            <input type="checkbox" id="lleva-cargador" name="comp_cargador"> <label for="lleva-cargador">El cliente entrega cargador (si es laptop)</label>
                        </div>
                        <div class="form-group">
                            <label for="otros-detalles-func">Otros detalles o funcionamiento reportado:</label>
                            <textarea id="otros-detalles-func" name="otros_detalles_func" rows="3"></textarea>
                        </div>

                        <h3>Evidencia Visual: Fotos del Estado Estético Actual (¡Obligatorio!)</h3>
                        <p><strong>IMPORTANTES:</strong> Tome fotos claras del equipo desde diferentes ángulos para registrar su estado actual y cualquier daño preexistente.</p>
                        <div class="form-group photo-upload-group">
                            <label for="foto1">Foto 1: Parte Superior/Pantalla</label>
                            <input type="file" id="foto1" name="fotos_equipo[]" accept="image/*">
                        </div>
                        <div class="form-group photo-upload-group">
                            <label for="foto2">Foto 2: Parte Inferior/Base</label>
                            <input type="file" id="foto2" name="fotos_equipo[]" accept="image/*">
                        </div>
                        <div class="form-group photo-upload-group">
                            <label for="foto3">Foto 3: Lateral Izquierdo</label>
                            <input type="file" id="foto3" name="fotos_equipo[]" accept="image/*">
                        </div>
                        <div class="form-group photo-upload-group">
                            <label for="foto4">Foto 4: Lateral Derecho</label>
                            <input type="file" id="foto4" name="fotos_equipo[]" accept="image/*">
                        </div>
                        <div class="form-group photo-upload-group">
                            <label for="foto5">Foto 5: Adicional (ej. pantalla rota, golpe específico)</label>
                            <input type="file" id="foto5" name="fotos_equipo[]" accept="image/*">
                        </div>
                        
                        <div class="photo-preview-container" id="photo-preview-container">
                            </div>

                        <div class="form-group">
                            <label for="danos-esteticos">Descripción de Daños Estéticos Preexistentes (Rayones, golpes, etc.):</label>
                            <textarea id="danos-esteticos" name="descripcion_danos_esteticos" rows="5" placeholder="Ej: Pantalla con fisura en la esquina superior izquierda, rayones en la tapa, una tecla faltante, etc."></textarea>
                        </div>
                    </fieldset>

                    <fieldset> 
                        <legend>3. Términos y Condiciones / Aceptación del Cliente</legend>
                        <div class="terms-scrollable">
                            <p>Al recibir este comprobante en PDF, usted acepta los siguientes términos y condiciones de servicio con <strong>Servicio Técnico Computacional José Miguel</strong>:</p>
                            <ul>
                                <li><strong>Declaración de Conformidad:</strong> Declaro que las fotos y la información proporcionada en este formulario reflejan fielmente el estado estético y funcional del equipo al momento de su entrega.</li>
                                <li><strong>Notificación de Daños No Reportados:</strong> Entiendo que si durante el diagnóstico en Servicio Técnico Computacional José Miguel se descubren daños no reportados inicialmente o daños ocultos, seré notificado para su aprobación antes de proceder con cualquier reparación.</li>
                                <li><strong>Autorización de Diagnóstico:</strong> Autorizo a Servicio Técnico Computacional José Miguel a realizar un diagnóstico completo del equipo, lo que puede implicar encenderlo, manipularlo y acceder a sus componentes internos para determinar la falla.</li>
                                <li><strong>Confidencialidad de Datos:</strong> Servicio Técnico Computacional José Miguel se compromete a proteger la privacidad de mis datos personales y, en la medida de lo posible, los datos contenidos en el equipo, según su política de privacidad disponible en [enlace a política de privacidad].</li>
                                <li><strong>Número de Caso:</strong> Se generará un número de caso único que me será entregado para el seguimiento de mi reparación. (Nota: Para este formulario simplificado, el número de caso se asignaría manualmente o con un sistema externo).</li>
                                <li><strong>Presupuesto y Aprobación:</strong> Una vez diagnosticado, se me presentará un presupuesto detallado. La reparación no procederá sin mi aprobación explícita.</li>
                                <li><strong>Garantía del Servicio:</strong> [Describir tu política de garantía, ej: X días/meses en la mano de obra y piezas instaladas].</li>
                                <li><strong>Retiro de Equipo:</strong> El equipo debe ser retirado en un plazo de X días desde la notificación de reparación finalizada. Pasado este plazo, se aplicará una tarifa de almacenamiento o se considerará abandono según nuestra política.</li>
                            </ul>
                        </div>
                        <div class="form-group">
                            <input type="checkbox" id="aceptar-terminos" name="aceptar_terminos" required>
                            <label for="aceptar-terminos">He explicado y el cliente acepta los <a href="terminos-condiciones.html" target="_blank">Términos y Condiciones</a>.</label>
                        </div>
                        
                        <div class="confirmation-button-container">
                            <button type="button" id="confirmarEntrega">Confirmo Entrega del Equipo</button>
                            <input type="hidden" id="entregaConfirmada" name="entrega_confirmada" value="false">
                            <small style="display: block; margin-top: 10px;">(Presionar este botón indica que se ha verificado el equipo con el cliente)</small>
                        </div>
                    </fieldset>
                </div> <div class="form-actions">
                    <button type="submit" id="submitButton">Generar Comprobante PDF</button>
                </div>
            </form>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Servicio Técnico Computacional José Miguel. Todos los derechos reservados.</p>
            <p>Contacto: +569 77126653 | serviciotecnicomyclips@gmail.com | Dirección: Recalada Oriente, La Florida, Santiago]</p>
        </div>
    </footer>

</body>
</html>